<template>
  <div class="flex flex-col items-center gap-5 relative min-h-screen">
    <p class="fixed top-2/4 bg-[#f0f] p-4">
      {{
        isVisible
          ? "O botão colorido está visivel na tela"
          : "O botão colorido não está visivel na tela"
      }}
    </p>

    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Id aspernatur
      necessitatibus ipsam distinctio doloribus perspiciatis! Laboriosam odit
      exercitationem, vitae asperiores assumenda pariatur repellendus.
      Asperiores, aut officia? Maxime hic atque harum doloremque esse quod
      excepturi modi, totam nam soluta doloribus facilis inventore a aliquam
      laboriosam eveniet, pariatur incidunt perspiciatis repudiandae molestias
      veniam eius fuga? Amet commodi, obcaecati reiciendis velit quam assumenda
      dolorum totam cumque enim quos culpa odio suscipit non at aliquam neque
      rem deleniti illo adipisci aspernatur, eveniet quaerat nam beatae. Quis
      blanditiis, odit enim aliquam sunt ipsa ad fugit dolorum, adipisci
      molestias nisi quaerat similique quam beatae suscipit aperiam in eos
      laudantium exercitationem eius dignissimos? Vitae, deleniti! Similique
      fugit eveniet quae tenetur saepe deleniti commodi minus, hic excepturi?
      Iusto, inventore repudiandae. Non repudiandae totam dolore ipsam
      praesentium alias iusto numquam pariatur quae libero ex quas excepturi,
      aspernatur earum nemo, maxime ipsum commodi quam? Quas ea nemo doloribus
      voluptates a vero, sequi voluptatibus odio vel necessitatibus explicabo
      illo pariatur temporibus, nisi repellendus, officiis consequatur quidem
      rem? Neque ab ratione illum eum, aliquam harum sit officiis quia veritatis
      voluptas reiciendis praesentium temporibus at, recusandae, quaerat ex modi
      provident voluptatem debitis eligendi fugiat a. Unde corporis pariatur
      ullam expedita ratione blanditiis suscipit, maxime doloremque et dolorum,
      facilis tenetur quam provident aut omnis neque accusamus eaque asperiores
      iste nostrum eveniet vitae vero sed delectus? Quisquam molestiae optio
      minus, ut quis sequi voluptatum tempore fugit eveniet voluptatem sunt
      accusantium velit maxime doloremque nisi a aut ipsam! Nisi, maiores illum
      repellat earum recusandae impedit iste expedita commodi! Perferendis vero
      rerum esse, sit nisi consequatur dignissimos tenetur excepturi magnam
      eveniet. Ut obcaecati earum saepe ad, a pariatur quaerat nisi. Aut
      provident quo excepturi consequuntur, cumque odit adipisci iure officiis
      perspiciatis vitae nostrum, molestias consectetur eveniet neque voluptates
      ea error nam, sunt distinctio. Numquam, nisi. Impedit odit aut molestias
      tempora delectus neque obcaecati quam perferendis nihil facilis minima
      placeat iste, eius repudiandae error aspernatur harum unde quasi
      consequatur provident accusantium, beatae quos. Quis hic quisquam sint
      rerum ad quo alias cum sequi porro deserunt eos doloremque architecto,
      aliquid aspernatur totam beatae voluptas doloribus itaque, placeat ipsa
      voluptatibus dignissimos. Aspernatur labore facere rerum praesentium
      numquam. Hic excepturi molestiae unde velit cum incidunt obcaecati odio
      inventore ad explicabo, nulla vero vitae rem doloremque in ratione minima
      provident deleniti harum dolorum nesciunt, nihil modi fuga alias? Iusto
      ullam nam quos eius, doloremque cupiditate at eveniet esse, rem quam
      fugiat a nihil nisi dolorem ut praesentium mollitia? Neque itaque facere
      sed voluptate cumque, ipsa ex, esse vel unde fuga voluptatibus, explicabo
      cupiditate architecto veniam vitae nobis? Ullam, saepe molestias! Iure
      laboriosam quos sunt culpa nulla dolores nobis cupiditate temporibus eius
      repellat repudiandae esse, accusamus minima rem, a, quas exercitationem
      sit! Quaerat necessitatibus quisquam officiis quis placeat dicta autem
      culpa, aspernatur a quam tempore quas ullam voluptatibus accusantium saepe
      aliquam soluta? Quaerat, velit? Dolore, odio eum! Earum tenetur at quod
      amet quidem voluptate quasi pariatur ducimus aperiam voluptates. Ducimus
      et eligendi ex, maxime sapiente exercitationem molestiae earum, omnis,
      enim suscipit nobis eius?
    </p>

    <VBtn class="w-full" color="#f0f" ref="cool-and-colorful-button">
      Botão Colorido feito pelo Dev Front-end
    </VBtn>

    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa minima
      sunt, possimus quasi asperiores adipisci debitis? Veniam explicabo nemo
      modi, eaque impedit laborum hic ex praesentium nam deleniti aliquam magni.
      Consequuntur in veniam, beatae ratione fugiat, reiciendis libero commodi
      quisquam fugit et suscipit ullam voluptatem ex dolorem? Officiis a dolore
      expedita consectetur amet quia quas inventore fugit unde consequuntur
      explicabo, tenetur itaque quae voluptas nihil, maiores at fuga porro
      nostrum suscipit illum rerum beatae distinctio totam? Aliquid pariatur
      enim odio voluptate architecto asperiores nemo recusandae nostrum esse
      impedit. Nulla voluptate, praesentium repellat sit doloribus ducimus
      aliquam, quis aliquid quidem accusantium nobis, temporibus quibusdam est
      consequatur illum cupiditate iste? Officiis rem porro consequatur
      voluptate facilis quibusdam aut molestiae odio, quas id, distinctio
      dolorem enim nostrum quidem odit beatae architecto quis fugit repellendus
      ad atque aspernatur accusamus! Perspiciatis beatae ad quis sed minus
      sapiente labore nesciunt adipisci et soluta alias ut ratione numquam,
      nihil quae ullam, eos, eveniet ab dicta. Fugiat iure nesciunt eum.
      Sapiente, itaque, eius facilis expedita voluptas consequatur similique
      dolores adipisci vitae corporis neque eaque reprehenderit debitis laborum
      repellat repellendus qui assumenda autem ea in minima. Earum officia
      temporibus magni optio? Nobis doloribus nisi sed ad officia cupiditate, at
      debitis fugit, atque delectus amet dignissimos ducimus expedita eos
      deleniti qui ratione quaerat hic aut. Repellat mollitia facilis,
      doloremque quisquam quas dolores corrupti ea rerum natus expedita fugit
      eos, animi eligendi fuga, perferendis exercitationem. Animi ut quo
      voluptate laboriosam voluptas, maiores sed culpa deserunt? Officiis, saepe
      quasi dolore optio odit explicabo laborum voluptatum reiciendis, ipsam
      expedita tenetur quidem similique eos sequi, alias quod vitae repellendus
      adipisci. Dolorum hic quaerat delectus corporis laudantium commodi
      nostrum, ducimus eum nemo error quam explicabo cumque quasi necessitatibus
      pariatur ipsa libero tenetur dolor eaque, fugiat asperiores. Aliquid sit
      laudantium consequatur labore aspernatur quo deleniti laboriosam
      blanditiis unde eaque neque dolor, magni voluptates dicta error sapiente!
      Mollitia officia accusantium iure quos? Odit neque amet deserunt,
      doloremque, ut id molestiae corrupti delectus, distinctio culpa maxime
      quas laboriosam pariatur exercitationem deleniti fugit repellat facilis
      atque consequatur est non sit. Eius deserunt necessitatibus, officiis
      totam illum velit nostrum doloribus nihil omnis exercitationem quidem aut
      ipsum laboriosam voluptatum sit? Ad nam tempore ex maiores amet dolore
      fugit? Atque a maiores commodi esse placeat? Deleniti quidem quia nostrum.
      Temporibus minima nostrum deserunt rerum accusamus ipsam aliquid, eaque
      accusantium. Blanditiis expedita aut quaerat praesentium voluptates eaque
      quia esse eveniet quis placeat consectetur ipsa, cupiditate quae, officia
      veritatis! Rem, impedit placeat. Nihil, animi enim nostrum sequi quos, est
      totam asperiores maxime officia reiciendis quae debitis dolores expedita
      unde aperiam incidunt. Rem harum id nemo dicta obcaecati, qui laboriosam
      exercitationem nihil vel sit non ex ea ad numquam animi officiis explicabo
      minima eum deleniti accusantium eos similique ipsa cumque. Soluta atque
      aspernatur magni voluptas iusto tenetur? Nisi nam odio illum quidem, quo
      ut cupiditate tempora deserunt sed sequi modi neque est labore, velit quos
      id nostrum, unde impedit facilis excepturi! Odio nisi rem iste veritatis
      accusamus fuga saepe quia vel enim? Sint, earum eligendi?
    </p>
  </div>
</template>

<script setup lang="ts">
import { onMounted, ref, useTemplateRef } from "vue";

const coolAndColorfulButton = useTemplateRef("cool-and-colorful-button");

const isVisible = ref(false);

onMounted(() => {
  const observer = new IntersectionObserver(
    entries => {
      entries.forEach(entry => {
        console.log("MUDOU");
        console.log(entry.isIntersecting);
        isVisible.value = entry.isIntersecting;
      });
    },
    {
      root: null,
      rootMargin: "0px",
      threshold: 1
    }
  );

  if (coolAndColorfulButton.value) {
    observer.observe(coolAndColorfulButton.value.$el);
  }
});
</script>
